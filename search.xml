<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>微信小程序2--文件结构</title>
      <link href="/post/b072f6c1.html"/>
      <url>/post/b072f6c1.html</url>
      
        <content type="html"><![CDATA[<h3 id="总体文件结构"><a href="#总体文件结构" class="headerlink" title="总体文件结构"></a>总体文件结构</h3><p>下面是新建好微信小程序后的文件结构：</p><p><img src="https://cdn.jsdelivr.net/gh/AIWMoon/picture//img/202112291513035.png" style="zoom: 50%;" /></p><h3 id="pages文件夹"><a href="#pages文件夹" class="headerlink" title="pages文件夹"></a>pages文件夹</h3><p>该文件夹内存放的为小程序各个页面的文件，<code>pages</code>文件夹内的每个子文件夹代表一个页面，例如<code>index</code>文件夹就是代表一个页面，<code>index</code>文件夹内的各个文件的作用如下：</p><h4 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h4><p>该文件配置的是页面的逻辑，生命周期等。还可以配置一些函数和数据，在页面下的<code>.js</code>文件配置，只能在该页面使用。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/index/index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onLoad</span>: <span class="function"><span class="keyword">function</span> (<span class="params">options</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onReady</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面显示</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onShow</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面隐藏</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onHide</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面卸载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onUnload</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onPullDownRefresh</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onReachBottom</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 用户点击右上角分享</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">onShareAppMessage</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="index-json"><a href="#index-json" class="headerlink" title="index.json"></a>index.json</h4><p>该文件的是页面的配置文件，可以在此处配置导航栏的颜色，状态栏显示的文字等等。在此配置的优先级比在<code>app.json</code>配置的</p><p>优先级高，可以覆盖<code>app.json</code>的配置，<code>index.json</code>只能设置<code>app.json</code>中windows相关的配置项。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;查看启动日志&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">&quot;backgroundTextStyle&quot;</span>:<span class="string">&quot;light&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#fff&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;Weixin&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;navigationBarTextStyle&quot;</span>:<span class="string">&quot;black&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="index-wxml"><a href="#index-wxml" class="headerlink" title="index.wxml"></a>index.wxml</h4><p>该文件相当于<code>.html</code>文件，在此处写页面的元素，不过和<code>.html</code>不同的是，<code>.wxml</code>需要用小程序提供的<code>view</code>等组件来替换<code>div</code>等组件。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--index.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;userinfo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;canIUseOpenData&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-avatar&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindViewTap&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">open-data</span> <span class="attr">type</span>=<span class="string">&quot;userAvatarUrl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">open-data</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">open-data</span> <span class="attr">type</span>=<span class="string">&quot;userNickName&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">open-data</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123;&#123;!hasUserInfo&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;canIUseGetUserProfile&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;getUserProfile&quot;</span>&gt;</span> 获取头像昵称 <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123;&#123;canIUse&#125;&#125;&quot;</span> <span class="attr">open-type</span>=<span class="string">&quot;getUserInfo&quot;</span> <span class="attr">bindgetuserinfo</span>=<span class="string">&quot;getUserInfo&quot;</span>&gt;</span> 获取头像昵称 <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span> 请使用1.4.4及以上版本基础库 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">block</span> <span class="attr">wx:else</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">image</span> <span class="attr">bindtap</span>=<span class="string">&quot;bindViewTap&quot;</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-avatar&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;userInfo.avatarUrl&#125;&#125;&quot;</span> <span class="attr">mode</span>=<span class="string">&quot;cover&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;userinfo-nickname&quot;</span>&gt;</span>&#123;&#123;userInfo.nickName&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">block</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;usermotto&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;user-motto&quot;</span>&gt;</span>&#123;&#123;motto&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="index-wxss"><a href="#index-wxss" class="headerlink" title="index.wxss"></a>index.wxss</h4><p>该文件相当于<code>.css</code>文件，也可以支持大部分的<code>.css</code>语法。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/index/index.wxss */</span></span><br><span class="line"><span class="selector-class">.container1</span> view&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container1</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: aqua;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container1</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container1</span> view<span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blueviolet;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container1</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid seagreen;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="utils文件夹"><a href="#utils文件夹" class="headerlink" title="utils文件夹"></a>utils文件夹</h3><p>该文件内存放的是小程序需要调用的工具类文件，例如时间信息等。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> formatTime = <span class="function"><span class="params">date</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> year = date.getFullYear()</span><br><span class="line">  <span class="keyword">const</span> month = date.getMonth() + <span class="number">1</span></span><br><span class="line">  <span class="keyword">const</span> day = date.getDate()</span><br><span class="line">  <span class="keyword">const</span> hour = date.getHours()</span><br><span class="line">  <span class="keyword">const</span> minute = date.getMinutes()</span><br><span class="line">  <span class="keyword">const</span> second = date.getSeconds()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;[year, month, day].map(formatNumber).join(<span class="string">&#x27;/&#x27;</span>)&#125;</span> <span class="subst">$&#123;[hour, minute, second].map(formatNumber).join(<span class="string">&#x27;:&#x27;</span>)&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> formatNumber = <span class="function"><span class="params">n</span> =&gt;</span> &#123;</span><br><span class="line">  n = n.toString()</span><br><span class="line">  <span class="keyword">return</span> n[<span class="number">1</span>] ? n : <span class="string">`0<span class="subst">$&#123;n&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">formatTime</span>: formatTime</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="eslintrc-js"><a href="#eslintrc-js" class="headerlink" title=".eslintrc.js"></a>.eslintrc.js</h3><p>这个文件和小程序无关，是安装ESlint插件后生成的，不讨论。</p><h3 id="app-js"><a href="#app-js" class="headerlink" title="app.js"></a>app.js</h3><p>该文件和页面内的<code>.js</code>文件配置的东西相同，不同的是页面文件下配置的只能该文件使用，<code>app.js</code>配置项最整个项目起作用。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.js</span></span><br><span class="line">App(&#123;</span><br><span class="line">  <span class="function"><span class="title">onLaunch</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">// 展示本地存储能力</span></span><br><span class="line">    <span class="keyword">const</span> logs = wx.getStorageSync(<span class="string">&#x27;logs&#x27;</span>) || []</span><br><span class="line">    logs.unshift(<span class="built_in">Date</span>.now())</span><br><span class="line">    wx.setStorageSync(<span class="string">&#x27;logs&#x27;</span>, logs)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 登录</span></span><br><span class="line">    wx.login(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// 发送 res.code 到后台换取 openId, sessionKey, unionId</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">globalData</span>: &#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="app-json"><a href="#app-json" class="headerlink" title="app.json"></a>app.json</h3><p><code>app.json</code>和页面文件内<code>.js</code>相比多了两个配置项，<code>pages</code>项和<code>style</code>、<code>sitemapLocation</code>。</p><ul><li><code>pages</code>配置的为页面，第一个写的是那个页面，那么启动小程序就会打开那个页面，例如下面的代码战术就是首先打开<code>user</code>页面</li><li><code>windows</code>项和页面内的<code>.json</code>配置相同，这里的配置控制整个小程序，不过优先级较低，可以被页面文件配置覆盖。</li><li><code>style</code>配置项是渲染小程序的版本等，不用修改。</li><li><code>sitemapLocation</code>配置<code>sitemap.json</code>文件,不用修改。</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;pages&quot;</span>:[</span><br><span class="line">    <span class="string">&quot;pages/user/user&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages/logs/logs&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">&quot;window&quot;</span>:&#123;</span><br><span class="line">    <span class="attr">&quot;backgroundTextStyle&quot;</span>:<span class="string">&quot;light&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarBackgroundColor&quot;</span>: <span class="string">&quot;#fff&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;Weixin&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;navigationBarTextStyle&quot;</span>:<span class="string">&quot;black&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;style&quot;</span>: <span class="string">&quot;v2&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span>: <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="app-wxss"><a href="#app-wxss" class="headerlink" title="app.wxss"></a>app.wxss</h3><p>配置整个项目的样式文件，可以被覆盖。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**app.wxss**/</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">200</span>rpx <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="project-config-json"><a href="#project-config-json" class="headerlink" title="project.config.json"></a>project.config.json</h3><p>整个项目的配置文件，可以修改使得否开启es6等，可以在该文件内修改小程序的版本号，AppID等。如果要用微信小程序开发助手运行别人的小程序，要在此处把AappID修改成自己的AppID。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;项目配置文件&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;packOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;ignore&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;file&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;.eslintrc.js&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;setting&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;bundle&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;userConfirmedBundleSwitch&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;urlCheck&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;scopeDataCheck&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;coverView&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;es6&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;postcss&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;compileHotReLoad&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;lazyloadPlaceholderEnable&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;preloadBackgroundData&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;minified&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;autoAudits&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;newFeature&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;uglifyFileName&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;uploadWithSourceMap&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;useIsolateContext&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;nodeModules&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;enhance&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;useMultiFrameRuntime&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;useApiHook&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;useApiHostProcess&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;showShadowRootInWxmlPanel&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;packNpmManually&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;enableEngineNative&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;packNpmRelationList&quot;</span>: [],</span><br><span class="line">    <span class="attr">&quot;minifyWXSS&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;showES6CompileOption&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">&quot;minifyWXML&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;compileType&quot;</span>: <span class="string">&quot;miniprogram&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;libVersion&quot;</span>: <span class="string">&quot;2.19.4&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;appid&quot;</span>: <span class="string">&quot;此处填写AppID&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;projectname&quot;</span>: <span class="string">&quot;Demo&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;debugOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;hidedInDevtools&quot;</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">&quot;staticServerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;baseURL&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;servePath&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;isGameTourist&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;condition&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;search&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;conversation&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;game&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;plugin&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;gamePlugin&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;miniprogram&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;list&quot;</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="sitemap-json"><a href="#sitemap-json" class="headerlink" title="sitemap.json"></a>sitemap.json</h3><p>该文件控制小程序页面是否允许微信索引到，默认所有页面均可被索引。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;desc&quot;</span>: <span class="string">&quot;关于本文件的更多信息，请参考文档 https://developers.weixin.qq.com/miniprogram/dev/framework/sitemap.html&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;rules&quot;</span>: [&#123;</span><br><span class="line">  <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;allow&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;page&quot;</span>: <span class="string">&quot;*&quot;</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
            <tag> vscode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微信小程序1--准备</title>
      <link href="/post/b76b77b2z.html"/>
      <url>/post/b76b77b2z.html</url>
      
        <content type="html"><![CDATA[<div class="tip cogs"><p>本教程是用VS Code写小程序准备教程，不涉及其他。</p></div><h3 id="微信开发者工具"><a href="#微信开发者工具" class="headerlink" title="微信开发者工具"></a>微信开发者工具</h3><ol><li><p>下载微信开发者工具  : <a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/stable.html">点击下载</a></p></li><li><p>微信扫码登录</p></li><li><p>新建一个新的小程序，选择不使用云服务，测试号可以在该页面进行申请：<a href="https://mp.weixin.qq.com/wxamp/sandbox?doc=1">申请小程序测试号</a>，官方教程：<a href="https://developers.weixin.qq.com/miniprogram/dev/devtools/sandbox.html">申请测试号 | 微信开放文档</a>，本次申请的为测试号，只供开发测试用，要正式上线需在<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1">小程序注册页面</a>注册后用<a href="#">管理-&gt;开发管理-&gt;开发设置</a>页面提供的AppID。</p></li><li><p>创建成功</p></li></ol><h3 id="VS-Code"><a href="#VS-Code" class="headerlink" title="VS Code"></a>VS Code</h3><ol><li><p>下载VS Code，链接：<a href="https://code.visualstudio.com/Download">Download Visual Studio Code - Mac, Linux, Windows</a>，根据系统下载。</p></li><li><p>安装后打开VS Code，快捷点<code>CTRL+SHIFT+X</code>或者点击左侧扩展按钮，进入扩展界面，搜索扩展名称，点击<code>INSTALL</code>进行安装：</p><ul><li><p>Chinese</p><p>该扩展为适用于 VS Code 的中文（简体）语言包，可以将VS Code的语言变为简体中文，方便使用。</p></li><li><p>WXML - Language Service</p><p>插件原名<code>minapp</code>,现已更名为<code>WXML - Language Service</code>, 未来将持续专注微信原生小程序wxml的支持；</p><p>微信小程序.wxml文件代码高亮，标签、属性的智能补全（同时支持原生小程序、mpvue 和 wepy 框架，并提供code snippets）。</p><p>主要功能</p><ul><li>一键创建小程序组件</li><li>标签名与属性自动补全</li><li>根据组件已有的属性，自动筛选出对应支持的属性集合</li><li>属性值自动补全</li><li>……</li></ul></li><li><p>wechat-snippet</p><p>微信小程序代码辅助,代码片段自动完成。</p></li><li><p>vscode weapp api</p><p>为 VSCode 提供微信小程序 API 提示及代码片段</p></li><li><p>wxapp-helper</p><p>VSCODE 微信小程序开发助手</p><p> 功能</p><ul><li>生成页面/组件</li><li>页面/组件模板可配置(.js, .wxml, .wxss, .json)</li><li>文件名及命名风格可配置</li><li>……</li></ul></li></ul></li></ol><p>之后就可以用VS Code打开微信开发者工具创建的程序，可以使用VS Code进行开发，用微信开发者工具进行预览。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微信小程序 </tag>
            
            <tag> vscode </tag>
            
            <tag> 环境配置 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决gradle下载慢的问题</title>
      <link href="/post/fce1b2e5.html"/>
      <url>/post/fce1b2e5.html</url>
      
        <content type="html"><![CDATA[<p>在导入一些源码的时候，idea/AS会自动配置gradle包，但在google的情况下会出现下载慢，甚至失败的情况，下面一种方法有点效果。</p><p>打开<code>build.gradle</code>(最外面的文件，并非<code>app</code>文件内部)文件，添加一行代码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">maven&#123; url = &quot;http://maven.aliyun.com/nexus/content/groups/public/&quot; &#125;</span><br></pre></td></tr></table></figure><p>位置为：</p><p><img src="https://s3.ax1x.com/2021/02/16/yc4H9e.png" alt="yc4H9e.png" style="zoom: 50%;" /></p><center>❗注意，在内有两个位置都需添加</center>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gradle </tag>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ODBC和JDBC的比较</title>
      <link href="/post/3d4929c6.html"/>
      <url>/post/3d4929c6.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、定义"><a href="#一、定义" class="headerlink" title="一、定义"></a>一、定义</h2><ol><li><p><font color='red'> ODBC </font>(Ope Database Connectivity)，开放数据库互联，是微软公司开发和定义的一套数据库访问标准，用户也可以直接将sql语句送给ODBC。通过使用ODBC，应用程序能够使用相同的源代码和各种各样的数据库进行交互。下面是ODBC应用系统的体系结构。</p><p><img src="https://z3.ax1x.com/2021/06/09/2y1S4f.md.png" alt="2y1S4f.md.png" style="zoom: 80%;" /></p><p>​    一个基于ODBC的应用程序，对数据库的操作不依赖任何DBMS，不直接与DBMS打交道，所有的数据库操作由对应的DBMS的ODBC驱动程序完成。不论是SQL Server、Access还是Oracle数据库，均可用ODBC API进行访问。</p><p>​    ODBC的最大优点是<strong><font color="red">能以统一的方式处理所有的数据库</font></strong></p></li><li><p><font color="red"> JDBC</font>（JavaDatabase Connectivity）是Java与数据库的接口规范，JDBC定义了一个支持标准SQL功能的通用低层API，它由Java 语言编写的类和接口组成，旨在让各数据库开发商为Java程序员提供标准的数据库API。</p><p>​    JDBC API定义了若干Java中的类，表示数据库连接、SQL指令、结果集、数据库元数据等。它允许Java程序员发送SQL指令并处理结果。下图是JDBC的体系架构。</p><p><img src="https://z3.ax1x.com/2021/06/09/2y39d1.png" alt="2y39d1.png"></p></li></ol><h2 id="二、联系"><a href="#二、联系" class="headerlink" title="二、联系"></a>二、联系</h2><p>​    JDBC是参考ODBC设计的，两者的相似性很多。</p><p>​    JDBC和ODBC都是<strong>用来连接数据库的启动程序</strong>，JDBC和ODBC由于<strong>具有数据库独立性</strong>甚至<strong>平台无关性</strong>，因而对Internet上异构数据库的访问提供了很好的支持。</p><p>​    JDBC与ODBC都是<strong>基于X/Open的SQL调用级接口</strong>；从结构上来讲，JDBC的总体结构类似于ODBC,都有四个组件：<strong>应用程序、驱动程序管理器、驱动程序和数据源</strong>,工作原理亦大体相同；在内容交互方面，JDBC保持了ODBC的基本特性,也独立于特定数据库。 而且都不是直接与数据库交互，而是通过驱动程序管理器。</p><h2 id="三、区别"><a href="#三、区别" class="headerlink" title="三、区别"></a>三、区别</h2><h3 id="1-JDBC比ODBC更容易理解"><a href="#1-JDBC比ODBC更容易理解" class="headerlink" title="1. JDBC比ODBC更容易理解"></a>1. JDBC比ODBC更容易理解</h3><p>​    这个主要是由语言特性决定的，ODBC用C来编写，JDBC用JAVA，C语言相比于JAVA更加抽象。另一方面是在ODBC中写一个查询，需要很多步骤，在JDBC中的数据库查询语句则简单很对，需求的源码比ODBC要少的多。JDBC数据库启动程序要比ODBC简易理解。</p><h3 id="2-JDBC数据库驱动程序面向对象"><a href="#2-JDBC数据库驱动程序面向对象" class="headerlink" title="2. JDBC数据库驱动程序面向对象"></a>2. JDBC数据库驱动程序面向对象</h3><p>​    JDBC用Java编写，完全遵循Java语言的优良特性。通常情况下，只要有Java功能需设计基础的用户都能在最短时间内了解JDBC驱动程序的架构，较量简易上手，能轻而易举的开发出强悍的数据库实际运用程序。而ODBC的话，由于其内部功能复杂，源代码编写要求高。为此即使是一个的C语言的高手，仍然需求花费不少的时间去了解那个数据库启动程序;在编写源代码的时间，还离不开有关的参考书本。</p><h3 id="3-JDBC的移植性要比ODBC要好"><a href="#3-JDBC的移植性要比ODBC要好" class="headerlink" title="3. JDBC的移植性要比ODBC要好"></a>3. JDBC的移植性要比ODBC要好</h3><p>​    通常情况下，安装完ODBC驱动程序之后，还需求经过确定的配置才能够应用。而不相同的配置在不相同数据库服务器之间不能够通用。也那是说，装一次需求配置一次。但是JDBC数据库驱动程序则不相同。假如采用JDBC数据库驱动程序的话，则只需要选取适当的 JDBC数据库驱动程序，就不需要额外的配置。在安装过程中，JDBC数据库驱动程序会自己完成有关的配置。为此JDBC的移植性要比ODBC要好。</p>]]></content>
      
      
      <categories>
          
          <category> 学习 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JDBC </tag>
            
            <tag> ODBC </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
